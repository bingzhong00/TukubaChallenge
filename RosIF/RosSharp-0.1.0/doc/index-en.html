

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>RosSharp Documentation (English) &mdash; RosSharp 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="RosSharp 0.1 documentation" href="index.html" />
    <link rel="next" title="RosSharp Documentation (Japanease)" href="index-ja.html" />
    <link rel="prev" title="Welcome to RosSharp’s documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="header-wrapper">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">RosSharp Documentation</a></div>
        <div class="rel">
          <a href="index.html" title="Welcome to RosSharp’s documentation!"
             accesskey="P">previous</a> |
          <a href="index-ja.html" title="RosSharp Documentation (Japanease)"
             accesskey="N">next</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="rossharp-documentation-english">
<h1>RosSharp Documentation (English)<a class="headerlink" href="#rossharp-documentation-english" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>RosSharp is ROS client library implemented by pure C#.</p>
<p><a class="reference external" href="http://ros.org/">ROS</a> is Robot Operating System developed by <a class="reference external" href="http://www.willowgarage.com/">Willow Garage</a>.</p>
<p>If you use a RosSharp, you can write a code that subscribe/publish a topic, provide/use a service,
subscribe/read/write a parameter in C#.</p>
<ul class="simple">
<li>Author: <a class="reference external" href="https://twitter.com/#!/zoetro">zoetrope</a></li>
<li>License: <a class="reference external" href="https://github.com/zoetrope/RosSharp/blob/master/License.txt">BSD License</a></li>
<li>Source: <a class="reference external" href="https://github.com/zoetrope/RosSharp">https://github.com/zoetrope/RosSharp</a></li>
<li>NuGet Package: <a class="reference external" href="http://nuget.org/packages/RosSharp">http://nuget.org/packages/RosSharp</a></li>
</ul>
<div class="section" id="features">
<h3>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>RosSharp provides asynchronous operations, it is implemented based on Reactive Extensions (Rx) and Task Parallel Library(TPL).</li>
<li><a class="reference external" href="http://nuget.codeplex.com/">NuGet</a>  installation support.</li>
<li>Support ROS Client Features<ul>
<li>Publisher/Subscriber</li>
<li>Service Connection</li>
<li>Parameter Client</li>
</ul>
</li>
<li>Support ROS Server Features<ul>
<li>Master</li>
<li>Parameter Server</li>
<li>RosOut (Logging Node)</li>
</ul>
</li>
<li>Support Tools<ul>
<li>RosCore (Master Server &amp; Parameter Server &amp; RosOut Node)</li>
<li>GenMsg (Code generation tool from .msg/.srv files).</li>
</ul>
</li>
</ul>
<p>The following features are not supported</p>
<ul class="simple">
<li>Remapping Arguments</li>
<li>Graph Resource Names (supports only the global name)</li>
<li>Clock Node</li>
<li>roslang</li>
</ul>
</div>
</div>
<div class="section" id="release-notes">
<h2>Release Notes<a class="headerlink" href="#release-notes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="rossharp-0-1-0">
<h3>RosSharp 0.1.0<a class="headerlink" href="#rossharp-0-1-0" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>2012/06/27</li>
<li>First Release</li>
</ul>
</div>
</div>
<div class="section" id="system-requirements">
<h2>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>.NET Framework 4</li>
<li>Reactive Extensions<ul>
<li><a class="reference external" href="http://msdn.microsoft.com/en-us/data/gg577609.aspx">http://msdn.microsoft.com/en-us/data/gg577609.aspx</a></li>
</ul>
</li>
<li>Common.Logging<ul>
<li>Apache License, Version 2.0.</li>
<li><a class="reference external" href="http://netcommon.sourceforge.net/">http://netcommon.sourceforge.net/</a></li>
</ul>
</li>
<li>XML-RPC.NET<ul>
<li>MIT X11 license</li>
<li><a class="reference external" href="http://xml-rpc.net/">http://xml-rpc.net/</a></li>
</ul>
</li>
<li>NDesk.Options (for GenMsg, RosCore)<ul>
<li>MIT/X11 license.</li>
<li><a class="reference external" href="http://www.ndesk.org/Options">http://www.ndesk.org/Options</a></li>
</ul>
</li>
<li>F# Runtime 2.0 (for GenMsg)<ul>
<li><a class="reference external" href="http://www.microsoft.com/download/details.aspx?id=13450">http://www.microsoft.com/download/details.aspx?id=13450</a></li>
</ul>
</li>
<li>FParsec (for GenMsg)<ul>
<li>BSD License</li>
<li><a class="reference external" href="http://www.quanttec.com/fparsec/">http://www.quanttec.com/fparsec/</a></li>
</ul>
</li>
<li>log4net (for RosCore)<ul>
<li>Apache License, Version 2.0.</li>
<li><a class="reference external" href="http://logging.apache.org/log4net/index.html">http://logging.apache.org/log4net/index.html</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="use-nuget">
<h3>Use NuGet<a class="headerlink" href="#use-nuget" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Install NuGet (NuGet requires Visual Studio 2010)</p>
<ul class="simple">
<li><a class="reference external" href="http://nuget.codeplex.com/">http://nuget.codeplex.com/</a></li>
</ul>
</li>
<li><p class="first">To install RosSharp, run the following command in the NuGet Package Manager Console</p>
<p>PM&gt; Install-Package RosSharp -Pre</p>
</li>
</ul>
<p>If you use NuGet, RosCore and GenMsg is not installed.
You need download a following binary package.</p>
<ul class="simple">
<li>Change Target Framework from .NET Framework 4 Client Profile to .NET Framework 4.</li>
</ul>
</div>
<div class="section" id="use-binary-package">
<h3>Use binary package<a class="headerlink" href="#use-binary-package" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Download a file through the following link.<ul>
<li><a class="reference external" href="https://github.com/zoetrope/RosSharp/downloads">https://github.com/zoetrope/RosSharp/downloads</a></li>
</ul>
</li>
<li>Start Visual Studio and create new project.</li>
<li>Add to project reference following assemblies.<ul>
<li>RosSharp.dll</li>
<li>System.Reactive.dll</li>
<li>CookComputing.XmlRpcServerV2.dll</li>
<li>CookComputing.XmlRpcV2.dll</li>
<li>Common.Logging.dll</li>
</ul>
</li>
<li>Change Target Framework from .NET Framework 4 Client Profile to .NET Framework 4.</li>
</ul>
</div>
</div>
<div class="section" id="quick-start">
<h2>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this headline">¶</a></h2>
<p>In this section, I explain how to use the RosSharp with synchronous operation.</p>
<p>These Program omit using directive, main function, and class definition.
If you need complete program, you will reference following link.</p>
<p><a class="reference external" href="https://github.com/zoetrope/RosSharp/tree/master/Sample">https://github.com/zoetrope/RosSharp/tree/master/Sample</a></p>
<div class="section" id="topic-publisher-subscriber">
<h3>Topic (Publisher/Subscriber)<a class="headerlink" href="#topic-publisher-subscriber" title="Permalink to this headline">¶</a></h3>
<p>Topic is a feature that is message transportation between nodes.
The Publisher send messages to subscribers. The Subscriber receive messages from publisher.</p>
<div class="section" id="publisher">
<h4>Publisher<a class="headerlink" href="#publisher" title="Permalink to this headline">¶</a></h4>
<p>Publisher can generate from a Node with specific name and message type.</p>
<p>Publisher class is implemented an IObserver&lt;T&gt;.</p>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">try</span>
<span class="p">{</span>
  <span class="kt">var</span> <span class="n">node</span> <span class="p">=</span> <span class="n">ROS</span><span class="p">.</span><span class="n">InitNodeAsync</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">).</span><span class="n">Result</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">publisher</span> <span class="p">=</span> <span class="n">node</span><span class="p">.</span><span class="n">PublisherAsync</span><span class="p">&lt;</span><span class="n">RosSharp</span><span class="p">.</span><span class="n">std_msgs</span><span class="p">.</span><span class="n">String</span><span class="p">&gt;(</span><span class="s">&quot;/chatter&quot;</span><span class="p">).</span><span class="n">Result</span><span class="p">;</span>

  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">=</span><span class="m">0</span><span class="p">;</span><span class="n">i</span><span class="p">&lt;</span><span class="m">100</span><span class="p">;</span><span class="n">i</span><span class="p">++)</span>
  <span class="p">{</span>
    <span class="n">publisher</span><span class="p">.</span><span class="n">OnNext</span><span class="p">(</span><span class="k">new</span> <span class="n">RosSharp</span><span class="p">.</span><span class="n">std_msgs</span><span class="p">.</span><span class="n">String</span><span class="p">()</span> <span class="p">{</span><span class="n">data</span> <span class="p">=</span> <span class="s">&quot;test message&quot;</span><span class="p">};);</span>
    <span class="n">Thread</span><span class="p">.</span><span class="n">Sleep</span><span class="p">(</span><span class="n">TimeSpan</span><span class="p">.</span><span class="n">FromSeconds</span><span class="p">(</span><span class="m">1</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="subscriber">
<h4>Subscriber<a class="headerlink" href="#subscriber" title="Permalink to this headline">¶</a></h4>
<p>Subscriber can generate from a Node with specific name and message type.</p>
<p>Subscriber class is implemented an IObservable&lt;T&gt;, you can use extention methods in the
Reactive Extensions (Rx).</p>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">try</span>
<span class="p">{</span>
  <span class="kt">var</span> <span class="n">node</span> <span class="p">=</span> <span class="n">ROS</span><span class="p">.</span><span class="n">InitNodeAsync</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">).</span><span class="n">Result</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">subscriber</span> <span class="p">=</span> <span class="n">node</span><span class="p">.</span><span class="n">SubscriberAsync</span><span class="p">&lt;</span><span class="n">RosSharp</span><span class="p">.</span><span class="n">std_msgs</span><span class="p">.</span><span class="n">String</span><span class="p">&gt;(</span><span class="s">&quot;/chatter&quot;</span><span class="p">).</span><span class="n">Result</span><span class="p">;</span>
  <span class="n">subscriber</span><span class="p">.</span><span class="n">Subscribe</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">data</span><span class="p">));</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="service">
<h3>Service<a class="headerlink" href="#service" title="Permalink to this headline">¶</a></h3>
<p>Service is provided for remote procedure call between nodes.</p>
<p>Service has a request message and a response message.</p>
<div class="section" id="register-service">
<h4>Register Service<a class="headerlink" href="#register-service" title="Permalink to this headline">¶</a></h4>
<p>In the Service callee, you specify name and register a function to be called.</p>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">try</span>
<span class="p">{</span>
  <span class="kt">var</span> <span class="n">node</span> <span class="p">=</span> <span class="n">ROS</span><span class="p">.</span><span class="n">InitNodeAsync</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">).</span><span class="n">Result</span><span class="p">;</span>

  <span class="kt">var</span> <span class="n">service</span> <span class="p">=</span> <span class="n">node</span><span class="p">.</span><span class="n">AdvertiseServiceAsync</span><span class="p">(</span><span class="s">&quot;/add_two_ints&quot;</span><span class="p">,</span>
    <span class="k">new</span> <span class="nf">AddTwoInts</span><span class="p">(</span><span class="n">req</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="n">AddTwoInts</span><span class="p">.</span><span class="n">Response</span> <span class="p">{</span><span class="n">sum</span> <span class="p">=</span> <span class="n">req</span><span class="p">.</span><span class="n">a</span> <span class="p">+</span> <span class="n">req</span><span class="p">.</span><span class="n">b</span><span class="p">})).</span><span class="n">Result</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="use-service">
<h4>Use Service<a class="headerlink" href="#use-service" title="Permalink to this headline">¶</a></h4>
<p>In the Service caller, you specify name and create a service proxy for call a service.</p>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">try</span>
<span class="p">{</span>
  <span class="kt">var</span> <span class="n">node</span> <span class="p">=</span> <span class="n">ROS</span><span class="p">.</span><span class="n">InitNodeAsync</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">).</span><span class="n">Result</span><span class="p">;</span>

  <span class="n">node</span><span class="p">.</span><span class="n">WaitForService</span><span class="p">(</span><span class="s">&quot;/add_two_ints&quot;</span><span class="p">).</span><span class="n">Wait</span><span class="p">();</span>

  <span class="kt">var</span> <span class="n">proxy</span> <span class="p">=</span> <span class="n">node</span><span class="p">.</span><span class="n">ServiceProxyAsync</span><span class="p">&lt;</span><span class="n">AddTwoInts</span><span class="p">&gt;(</span><span class="s">&quot;/add_two_ints&quot;</span><span class="p">).</span><span class="n">Result</span><span class="p">;</span>

  <span class="kt">var</span> <span class="n">res</span> <span class="p">=</span> <span class="n">proxy</span><span class="p">.</span><span class="n">Invoke</span><span class="p">(</span><span class="k">new</span> <span class="n">AddTwoInts</span><span class="p">.</span><span class="n">Request</span><span class="p">()</span> <span class="p">{</span><span class="n">a</span> <span class="p">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">b</span> <span class="p">=</span> <span class="m">2</span><span class="p">});</span>

  <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">res</span><span class="p">.</span><span class="n">sum</span><span class="p">);</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="parameter">
<h3>Parameter<a class="headerlink" href="#parameter" title="Permalink to this headline">¶</a></h3>
<p>Parameter is feature of shared parameter between nodes.</p>
<p>Parameter provide a subscribe value and read/write value.</p>
<p>Supported parameter type is primitive type, list type, and dictionary type.</p>
<div class="section" id="primitive-parameter">
<h4>Primitive Parameter<a class="headerlink" href="#primitive-parameter" title="Permalink to this headline">¶</a></h4>
<p>Parameter can generate from a Node with specific name and type.</p>
<p>Parameter class is implemented an IObservable&lt;T&gt;, you can use extention methods in the
Reactive Extensions (Rx).</p>
<p>Parameter.Value property provides a feature of read/write value;</p>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">try</span>
<span class="p">{</span>
  <span class="kt">var</span> <span class="n">node</span> <span class="p">=</span> <span class="n">ROS</span><span class="p">.</span><span class="n">InitNodeAsync</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">).</span><span class="n">Result</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">param</span> <span class="p">=</span> <span class="n">node</span><span class="p">.</span><span class="n">PrimitiveParameterAsync</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span><span class="s">&quot;rosversion&quot;</span><span class="p">).</span><span class="n">Result</span><span class="p">;</span>

  <span class="n">param</span><span class="p">.</span><span class="n">Subscribe</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>

  <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">param</span><span class="p">.</span><span class="n">Value</span><span class="p">);</span>
  <span class="n">param</span><span class="p">.</span><span class="n">Value</span> <span class="p">=</span> <span class="s">&quot;test&quot;</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="asynchronous-programming-with-task-parallel-library">
<h3>Asynchronous Programming with Task Parallel Library<a class="headerlink" href="#asynchronous-programming-with-task-parallel-library" title="Permalink to this headline">¶</a></h3>
<p>You can write an asynchronous style code using the Task Parallel Library (TPL).</p>
<p>Sample code for Subscriber can be rewritten as following code.</p>
<div class="highlight-csharp"><div class="highlight"><pre><span class="n">Ros</span><span class="p">.</span><span class="n">InitNodeAsync</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">)</span>
    <span class="p">.</span><span class="n">ContinueWith</span><span class="p">(</span><span class="n">node</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">node</span><span class="p">.</span><span class="n">Result</span><span class="p">.</span><span class="n">SubscriberAsync</span><span class="p">&lt;</span><span class="n">RosSharp</span><span class="p">.</span><span class="n">std_msgs</span><span class="p">.</span><span class="n">String</span><span class="p">&gt;(</span><span class="s">&quot;/chatter&quot;</span><span class="p">);</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="n">Unwrap</span><span class="p">()</span>
    <span class="p">.</span><span class="n">ContinueWith</span><span class="p">(</span><span class="n">subscriber</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="n">subscriber</span><span class="p">.</span><span class="n">Result</span><span class="p">.</span><span class="n">Subscribe</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">data</span><span class="p">));</span>
    <span class="p">})</span>
    <span class="p">.</span><span class="n">ContinueWith</span><span class="p">(</span><span class="n">res</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">res</span><span class="p">.</span><span class="n">Exception</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
    <span class="p">},</span> <span class="n">TaskContinuationOptions</span><span class="p">.</span><span class="n">OnlyOnFaulted</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="asynchronous-programming-with-async-await">
<h3>Asynchronous Programming with async/await<a class="headerlink" href="#asynchronous-programming-with-async-await" title="Permalink to this headline">¶</a></h3>
<p>If you use async/await syntax coming Visual Studio 2012, you will be able to write an
asynchronous operation that likes a synchronous operation.
(The following code can be run the Visual Studio 2012 RC)</p>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">try</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">node</span> <span class="p">=</span> <span class="n">await</span> <span class="n">Ros</span><span class="p">.</span><span class="n">InitNodeAsync</span><span class="p">(</span><span class="s">&quot;Test&quot;</span><span class="p">);</span>
    <span class="kt">var</span> <span class="n">subscriber</span> <span class="p">=</span> <span class="n">await</span> <span class="n">node</span><span class="p">.</span><span class="n">SubscriberAsync</span><span class="p">&lt;</span><span class="n">RosSharp</span><span class="p">.</span><span class="n">std_msgs</span><span class="p">.</span><span class="n">String</span><span class="p">&gt;(</span><span class="s">&quot;/chatter&quot;</span><span class="p">);</span>
    <span class="n">subscriber</span><span class="p">.</span><span class="n">Subscribe</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">data</span><span class="p">));</span>
<span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="n">WriteLine</span><span class="p">(</span><span class="n">ex</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="settings">
<span id="setting-en"></span><h2>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h2>
<p>RosSharp can be set in three different ways, source code, application configuration file (app.config),
and environment valiable.</p>
<p>Setting by Source code is highest priority.
Setting by application configuration file is lowest priority.</p>
<div class="section" id="network-setting">
<h3>Network Setting<a class="headerlink" href="#network-setting" title="Permalink to this headline">¶</a></h3>
<div class="section" id="setting-in-a-code">
<h4>Setting in a code<a class="headerlink" href="#setting-in-a-code" title="Permalink to this headline">¶</a></h4>
<p>Please set before you generate the node.</p>
<div class="highlight-csharp"><div class="highlight"><pre><span class="c1">// local network address of a ROS Node</span>
<span class="n">RosManager</span><span class="p">.</span><span class="n">HostName</span> <span class="p">=</span> <span class="s">&quot;192.168.1.11&quot;</span><span class="p">;</span>
<span class="c1">// XML-RPC URI of the Master</span>
<span class="n">RosManager</span><span class="p">.</span><span class="n">MasterUri</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Uri</span><span class="p">(</span><span class="s">&quot;http://192.168.1.10:11311&quot;</span><span class="p">);</span>
<span class="c1">// Timeout in milliseconds on a ROS TOPIC</span>
<span class="n">RosManager</span><span class="p">.</span><span class="n">TopicTimeout</span> <span class="p">=</span> <span class="m">3000</span><span class="p">;</span>
<span class="c1">// Timeout in milliseconds on a XML-RPC proxy method call</span>
<span class="n">RosManager</span><span class="p">.</span><span class="n">XmlRpcTimeout</span> <span class="p">=</span> <span class="m">3000</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-by-a-app-config">
<h4>Setting by a app.config<a class="headerlink" href="#setting-by-a-app-config" title="Permalink to this headline">¶</a></h4>
<div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;configuration&gt;</span>
  <span class="nt">&lt;configSections&gt;</span>
    <span class="nt">&lt;section</span> <span class="na">name=</span><span class="s">&quot;rossharp&quot;</span> <span class="na">type=</span><span class="s">&quot;RosSharp.ConfigurationSection, RosSharp&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/configSections&gt;</span>
  <span class="nt">&lt;rossharp&gt;</span>
    <span class="nt">&lt;ROS_MASTER_URI</span> <span class="na">value=</span><span class="s">&quot;http://192.168.1.10:11311&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;ROS_HOSTNAME</span> <span class="na">value=</span><span class="s">&quot;192.168.1.11&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;ROS_TOPIC_TIMEOUT</span> <span class="na">value=</span><span class="s">&quot;3000&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;ROS_XMLRPC_TIMEOUT</span> <span class="na">value=</span><span class="s">&quot;3000&quot;</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/rossharp&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-by-environment-variable">
<h4>Setting by Environment Variable<a class="headerlink" href="#setting-by-environment-variable" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>ROS_MASTER_URI</li>
<li>ROS_HOSTNAME</li>
<li>ROS_TOPIC_TIMEOUT</li>
<li>ROS_XMLRPC_TIMEOUT</li>
</ul>
</div>
</div>
<div class="section" id="logging-setting">
<h3>Logging Setting<a class="headerlink" href="#logging-setting" title="Permalink to this headline">¶</a></h3>
<p>RosSharp use the Common.Logging, logger type can change by setting.</p>
<p>Default setting is RosOutLogger. It send logs to RosOut.</p>
<p>You will be able to change logger.
Example,  using log4net , it write log to file or event log.</p>
<p>See the <a class="reference external" href="http://netcommon.sourceforge.net/docs/2.0.0/reference/html/index.html">Common.Logging Documentation</a></p>
<div class="section" id="id1">
<h4>Setting in a code<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<div class="highlight-csharp"><div class="highlight"><pre><span class="kt">var</span> <span class="n">properties</span> <span class="p">=</span> <span class="k">new</span> <span class="n">NameValueCollection</span><span class="p">();</span>
<span class="n">properties</span><span class="p">[</span><span class="s">&quot;level&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;DEBUG&quot;</span><span class="p">;</span>
<span class="n">properties</span><span class="p">[</span><span class="s">&quot;showLogName&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;true&quot;</span><span class="p">;</span>
<span class="n">properties</span><span class="p">[</span><span class="s">&quot;showDataTime&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;true&quot;</span><span class="p">;</span>
<span class="n">properties</span><span class="p">[</span><span class="s">&quot;dateTimeFormat&quot;</span><span class="p">]</span> <span class="p">=</span> <span class="s">&quot;yyyy/MM/dd HH:mm:ss:fff&quot;</span><span class="p">;</span>
<span class="n">LogManager</span><span class="p">.</span><span class="n">Adapter</span> <span class="p">=</span> <span class="k">new</span> <span class="n">RosOutLoggerFactoryAdapter</span><span class="p">(</span><span class="n">properties</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h4>Setting by a app.config<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<div class="highlight-xml"><div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;configuration&gt;</span>
  <span class="nt">&lt;configSections&gt;</span>
    <span class="nt">&lt;sectionGroup</span> <span class="na">name=</span><span class="s">&quot;common&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;section</span> <span class="na">name=</span><span class="s">&quot;logging&quot;</span> <span class="na">type=</span><span class="s">&quot;Common.Logging.ConfigurationSectionHandler, Common.Logging&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/sectionGroup&gt;</span>
  <span class="nt">&lt;/configSections&gt;</span>

  <span class="nt">&lt;common&gt;</span>
    <span class="nt">&lt;logging&gt;</span>
      <span class="nt">&lt;factoryAdapter</span> <span class="na">type=</span><span class="s">&quot;RosSharp.RosOutLoggerFactoryAdapter, RosSharp&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;arg</span> <span class="na">key=</span><span class="s">&quot;level&quot;</span> <span class="na">value=</span><span class="s">&quot;DEBUG&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;arg</span> <span class="na">key=</span><span class="s">&quot;showLogName&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;arg</span> <span class="na">key=</span><span class="s">&quot;showDataTime&quot;</span> <span class="na">value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;arg</span> <span class="na">key=</span><span class="s">&quot;dateTimeFormat&quot;</span> <span class="na">value=</span><span class="s">&quot;yyyy/MM/dd HH:mm:ss:fff&quot;</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;/factoryAdapter&gt;</span>
    <span class="nt">&lt;/logging&gt;</span>
  <span class="nt">&lt;/common&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="interoperability">
<h2>Interoperability<a class="headerlink" href="#interoperability" title="Permalink to this headline">¶</a></h2>
<p>RosSharp has interoperability with other implementations of ROS, rospy and rosjava.</p>
<p>But, roscpp has problems for interoperability.
If you want interoperability with roscpp, you should fix the roscpp following steps.</p>
<div class="section" id="xmlrpc-can-not-parse-a-response-header-of-xml-rpc-net">
<h3>XmlRpc++ can not parse a response header of XML-RPC.NET<a class="headerlink" href="#xmlrpc-can-not-parse-a-response-header-of-xml-rpc-net" title="Permalink to this headline">¶</a></h3>
<p>XmlRpc++ has a following issue.</p>
<ul class="simple">
<li><a class="reference external" href="http://sourceforge.net/tracker/?func=detail&amp;aid=1644372&amp;group_id=70654&amp;atid=528553">http://sourceforge.net/tracker/?func=detail&amp;aid=1644372&amp;group_id=70654&amp;atid=528553</a></li>
<li><a class="reference external" href="http://sourceforge.net/projects/xmlrpcpp/forums/forum/240495/topic/2487516">http://sourceforge.net/projects/xmlrpcpp/forums/forum/240495/topic/2487516</a></li>
</ul>
<p>You should fix this issue.</p>
</div>
<div class="section" id="roscpp-ignore-a-part-of-slave-uri">
<h3>roscpp ignore a part of slave uri<a class="headerlink" href="#roscpp-ignore-a-part-of-slave-uri" title="Permalink to this headline">¶</a></h3>
<p>In ros_comm/clients/cpp/roscpp/src/libros/subscription.cpp
Subscription::negotiateConnection ignore the string after a port number in slave url.</p>
<p>You should add the tail string when creating XmlRpcClient instance.</p>
</div>
</div>
<div class="section" id="application">
<h2>Application<a class="headerlink" href="#application" title="Permalink to this headline">¶</a></h2>
<div class="section" id="roscore">
<h3>RosCore<a class="headerlink" href="#roscore" title="Permalink to this headline">¶</a></h3>
<p>RosCore is an application that manages topics and services, has parameter server, manages output log.</p>
<p>You need launch the RosCore before generate nodes.</p>
<p>You will be able to use the roscore provided by original ROS instead of RosSharp&#8217;s RosCore.</p>
<ul class="simple">
<li><a class="reference external" href="http://www.ros.org/wiki/roscore">http://www.ros.org/wiki/roscore</a></li>
</ul>
<div class="section" id="usage">
<h4>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h4>
<p>You will launch the RosCore by command line</p>
<div class="highlight-python"><pre>&gt; RosCore [-p port]</pre>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>example</p>
<div class="highlight-python"><pre>&gt; RosCore -p 11311</pre>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="docutils">
<dt>-p:</dt>
<dd>Port number for Master server. If you don&#8217;t specify it, default number 11311 will be used.</dd>
</dl>
<p>You can set the network setting and logger setting by RosCore.exe.config. See <a class="reference internal" href="#setting-en"><em>Settings</em></a>.</p>
<p>RosCore default logger is log4net.</p>
</div>
</div>
<div class="section" id="genmsg">
<h3>GenMsg<a class="headerlink" href="#genmsg" title="Permalink to this headline">¶</a></h3>
<p>GenMsg is a tool that code generation from .msg/.srv format files.</p>
<p>See the following links for .msg/.srv format files.</p>
<ul class="simple">
<li><a class="reference external" href="http://www.ros.org/wiki/msg">http://www.ros.org/wiki/msg</a></li>
<li><a class="reference external" href="http://www.ros.org/wiki/srv">http://www.ros.org/wiki/srv</a></li>
</ul>
<p>If you want use a new Message type in Topic, you should write a .msg file and generate C# code by GenMsg.</p>
<p>If you want use a new Service type, you should write a .srv file and generate C# code by GenMsg.</p>
<div class="section" id="id3">
<h4>Usage<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>You will launch the GenMsg by command line</p>
<div class="highlight-python"><pre>&gt; GenMsg -t msg|srv [-n namespace] [-o output_dir] [[-i include_dir]...] FileName...</pre>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>example</p>
<div class="highlight-python"><pre>&gt; GenMsg -t msg -i "..\msg\roslib" "..\msg\roslib\Time.msg"</pre>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="docutils">
<dt>-t:</dt>
<dd>If you generate the code for Message, then msg.
If you generate the code for Service, then srv.</dd>
<dt>-n:</dt>
<dd>Namespace for generated code.</dd>
<dt>-o:</dt>
<dd>Output directory for generated code.</dd>
<dt>-i:</dt>
<dd>If you use the message type defined by the other file, you should specify the directory contains these file.</dd>
<dt>FileName:</dt>
<dd>.msg file or .srv file. You can specify multiple files.</dd>
</dl>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">RosSharp Documentation (English)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#release-notes">Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#system-requirements">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#quick-start">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="#settings">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interoperability">Interoperability</a></li>
<li class="toctree-l2"><a class="reference internal" href="#application">Application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index-ja.html">RosSharp Documentation (Japanease)</a></li>
</ul>

          <h3 style="margin-top: 1.5em;">Search</h3>
          <form class="search" action="search.html" method="get">
            <input type="text" name="q" />
            <input type="submit" value="Go" />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
          </form>
          <p class="searchtip" style="font-size: 90%">
            Enter search terms or a module, class or function name.
          </p>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <a href="index.html" title="Welcome to RosSharp’s documentation!"
             >previous</a> |
          <a href="index-ja.html" title="RosSharp Documentation (Japanease)"
             >next</a> |
          <a href="genindex.html" title="General Index"
             >index</a>
            <br/>
            <a href="_sources/index-en.txt"
               rel="nofollow">Show Source</a>
        </div>

        <div class="right">
          
    <div class="footer">
        &copy; Copyright 2012, zoetrope.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>